(this["webpackJsonpparticipant-app"]=this["webpackJsonpparticipant-app"]||[]).push([[0],{39:function(t,e,a){},42:function(t,e,a){t.exports=a(73)},46:function(t,e,a){},47:function(t,e,a){},73:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),s=a(21),r=a.n(s),o=(a(46),a(47),a(19)),c=a(8),l=a(5),p=a(17),h=a(41),u=a(15),m=a(9),d=(a(52),{dbInfo:{},exptToDisplay:{},participantID:"",questionKeys:[],numQ:Number,isFinalQ:!1,answer:[],fileContent:{}}),b=Object(p.c)({expt:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"DB_INFO":return Object(m.a)(Object(m.a)({},t),{},{dbInfo:e.payload});case"GET_EXPT":return Object(m.a)(Object(m.a)({},t),{},{exptToDisplay:e.payload});case"PART_ID":return Object(m.a)(Object(m.a)({},t),{},{participantID:e.payload});case"Q_KEYS":return Object(m.a)(Object(m.a)({},t),{},{questionKeys:e.payload});case"NUM_Q":return Object(m.a)(Object(m.a)({},t),{},{numQ:e.payload});case"FINAL_Q":return Object(m.a)(Object(m.a)({},t),{},{isFinalQ:e.payload});case"ANSWER":return Object(m.a)(Object(m.a)({},t),{},{answer:[].concat(Object(u.a)(t.answer),[e.payload])});case"ITEM_DATA":return Object(m.a)(Object(m.a)({},t),{},{fileContent:e.payload});default:return t}}}),v=[h.a],f=Object(p.e)(b,{},Object(p.d)(p.a.apply(void 0,v))),x=a(10),g=a(3),y=a(4),E=a(1),D=a(7),S=a(6),k=a(18),O=a.n(k),C=function(t,e){return function(a){a({type:"DB_INFO",payload:{db:t,col:e}})}},w=function(t,e,a){return function(n){var i="https://test-api-615.herokuapp.com/api/feedback/"+t+"/info/studyName-"+e;O.a.get(i).then((function(t){var e=t.data.experiments,i={};e.forEach((function(t){t.exptName==a&&(i=t)})),n({type:"GET_EXPT",payload:i})}))}},j=function(t){return function(e){e({type:"PART_ID",payload:t})}},R=function(t,e,a){return function(n){var i="https://test-api-615.herokuapp.com/api/feedback/"+t+"/"+e;O.a.post(i,a).then((function(t){}))}},N=function(t){return function(e){e({type:"Q_KEYS",payload:t})}},I=function(t){return function(e){e({type:"NUM_Q",payload:t})}},M=function(t){return function(e){e({type:"FINAL_Q",payload:t})}},Q=function(t,e){return function(a){a({type:"ANSWER",payload:{que:t,ans:e}})}},T=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(g.a)(this,a),(n=e.call(this,t)).state={ParticipantID:""},n.onChange=n.onChange.bind(Object(E.a)(n)),n.showExpt=n.showExpt.bind(Object(E.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.getData();var t=this.props.match.params.username,e=this.props.match.params.expt;this.props.storeDBInfo(t,e)}},{key:"getData",value:function(){var t=this.props.match.params.username,e=this.props.match.params.expt.split("-")[0],a=this.props.match.params.expt.split("-")[1];this.props.getExpt(t,e,a)}},{key:"onChange",value:function(t){this.setState(Object(x.a)({},t.target.name,t.target.value))}},{key:"showExpt",value:function(){this.props.storePartID(this.state.ParticipantID);var t=this.props.match.params.username,e=this.props.match.params.expt,a=[];if(this.props.expt.exptToDisplay){var n=Object.keys(this.props.expt.exptToDisplay);console.log(n),a=n.filter((function(t){return"q"==t.charAt(0)})),this.props.storeQKeys(a)}1==a.length&&this.props.isFinalQ(!0),this.props.setNumQ(0),this.props.history.push("/expt/"+t+"/"+e+"/"+a[0])}},{key:"render",value:function(){var t=this.props.match.params.expt;return i.a.createElement("div",{className:"container"},"Experiment name: ",i.a.createElement("br",null),i.a.createElement("b",null,t),i.a.createElement("br",null),i.a.createElement("br",null),"Enter your unique ID: ",i.a.createElement("p",null),i.a.createElement("input",{type:"text",name:"ParticipantID",value:this.state.ParticipantID,onChange:this.onChange}),i.a.createElement("br",null),i.a.createElement("input",{type:"button",className:"btn",value:"Start Experiment",onClick:this.showExpt}),i.a.createElement("br",null),i.a.createElement("br",null),'Note: once you click "Ok" for one question, you won\'t be able to change your response.')}}]),a}(n.Component),P=Object(l.b)((function(t){return{expt:t.expt,participantID:t.participantID}}),{storeDBInfo:C,storePartID:j,getExpt:w,storeQKeys:N,setNumQ:I,isFinalQ:M})(T),A=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(){return Object(g.a)(this,a),e.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"This is the home page"))}}]),a}(n.Component),q=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(){var t;return Object(g.a)(this,a),(t=e.call(this)).state=t.initialState,t.resetState=t.resetState.bind(Object(E.a)(t)),t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.showSlider=t.showSlider.bind(Object(E.a)(t)),t}return Object(y.a)(a,[{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"componentDidMount",value:function(){(0,this.props.childRef)(this),this.getData()}},{key:"componentWillUnmount",value:function(){(0,this.props.childRef)(void 0)}},{key:"getData",value:function(){var t=this.props.expt.dbInfo.db,e=this.props.expt.dbInfo.col.split("-")[0],a=this.props.expt.dbInfo.col.split("-")[1];this.props.getExpt(t,e,a)}},{key:"onChange",value:function(t){this.setState(Object(x.a)({},t.target.name,t.target.value))}},{key:"showSlider",value:function(){return i.a.createElement("div",{className:"container"},this.props.question," ",i.a.createElement("br",null),i.a.createElement("input",{type:"range",min:this.props.lowRange,max:this.props.highRange,name:"value",value:this.state.value,onChange:this.onChange}),this.state.value," ",i.a.createElement("br",null))}},{key:"onSubmit",value:function(){var t=this.props.question;this.props.storeAnswer(t,this.state.value),this.setState({submitted:!0})}},{key:"render",value:function(){return i.a.createElement("div",null,this.showSlider()," ",i.a.createElement("br",null),!this.state.submitted&&i.a.createElement("div",null,i.a.createElement("input",{type:"submit",className:"btn",value:"Ok",onClick:this.onSubmit})," ",i.a.createElement("br",null),i.a.createElement("p",{style:{color:"grey"}},'Reminder: Once you click "Ok", your response to this question will be recorded, and you won\'t be able to change your answer.')))}},{key:"initialState",get:function(){return{submitted:!1,value:0}}}]),a}(n.Component),F=Object(l.b)((function(t){return{expt:t.expt}}),{getExpt:w,storeAnswer:Q})(q),V=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(g.a)(this,a),(n=e.call(this,t)).state={},n.showItem=n.showItem.bind(Object(E.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.childRef)(this),this.getData()}},{key:"componentWillUnmount",value:function(){(0,this.props.childRef)(void 0)}},{key:"getData",value:function(){var t=this.props.expt.dbInfo.db,e=this.props.expt.dbInfo.col.split("-")[0],a=this.props.expt.dbInfo.col.split("-")[1];this.props.getExpt(t,e,a)}},{key:"showItem",value:function(){return i.a.createElement("div",{className:"container"},this.props.text)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},this.showItem()," ",i.a.createElement("br",null))}}]),a}(n.Component),K=Object(l.b)((function(t){return{expt:t.expt}}),{getExpt:w})(V),H=(a(39),function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(g.a)(this,a),(n=e.call(this,t)).sliderRef=i.a.createRef(),n.rectRef=i.a.createRef(),n.svgRef=i.a.createRef(),n.areaRef=i.a.createRef(),n.dotReturn=n.dotReturn.bind(Object(E.a)(n)),n.curveArea=n.curveArea.bind(Object(E.a)(n)),n.triMouseDown=n.triMouseDown.bind(Object(E.a)(n)),n.triDrag=n.triDrag.bind(Object(E.a)(n)),n.triUp=n.triUp.bind(Object(E.a)(n)),n.curveArea=n.curveArea.bind(Object(E.a)(n)),n.resetState=n.resetState.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state=n.initialState,n}return Object(y.a)(a,[{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"componentDidMount",value:function(){(0,this.props.childRef)(this),this.getData()}},{key:"componentWillUnmount",value:function(){(0,this.props.childRef)(void 0)}},{key:"getData",value:function(){var t=this.props.expt.dbInfo.db,e=this.props.expt.dbInfo.col.split("-")[0],a=this.props.expt.dbInfo.col.split("-")[1];this.props.getExpt(t,e,a)}},{key:"onSubmit",value:function(){var t,e=this.props.questionNC,a=this.props.graph1,n=this.props.graph2,i=(t={},Object(x.a)(t,a,this.state.col11),Object(x.a)(t,n,this.state.col21),Object(x.a)(t,"area",this.state.overlapVals[Math.abs(this.state.col22-this.state.col11)]),t);this.props.storeAnswer(e,i),this.setState({submitted:!0})}},{key:"dotReturn",value:function(t,e){var a=t;t>7&&(t=15-t);var n=this.state.distancing1+this.state.distancing*a+10,s=this.state.ceilDist-this.state.distancing*e+10;return i.a.createElement("circle",{className:"icon",stroke:"DarkCyan",fill:"DarkCyan",fillOpacity:"0.3",strokeOpacity:"0.3",cx:n,cy:s,r:this.state.circRad})}},{key:"dotReturn2",value:function(t,e){var a=t;t>7&&(t=15-t);var n=this.state.distancing2+this.state.distancing*a+10,s=this.state.ceilDist-this.state.distancing*e+10;return i.a.createElement("circle",{className:"icon",stroke:"Crimson",fill:"Crimson",fillOpacity:"0.3",strokeOpacity:"0.3",cx:n,cy:s,r:this.state.circRad})}},{key:"triMouseDown",value:function(t,e){var a=this;if("mousedown"===t.type){t.preventDefault();var n=this.svgRef.current,i=n.createSVGPoint();i.x=t.clientX;var s=i.matrixTransform(n.getScreenCTM().inverse());1===e?this.setState((function(t){return{triDown:e,mousePointerRange:t.triCent1+a.state.distancing1-s.x}})):2===e&&this.setState((function(t){return{triDown:e,mousePointerRange:t.triCent2+a.state.distancing2-s.x}}))}}},{key:"triDrag",value:function(t){var e=this.svgRef.current,a=e.createSVGPoint();a.x=t.clientX;var n=a.matrixTransform(e.getScreenCTM().inverse());if(this.setState({x:t.screenX,y:t.screenY,svgX:n.x}),2===this.state.triDown){(o=(r=this.svgRef.current).createSVGPoint()).x=t.clientX;var i=o.matrixTransform(r.getScreenCTM().inverse());t.preventDefault();var s=i.x-this.state.triCent2+this.state.mousePointerRange;(c=Math.round((s-6)/this.state.distancing))<0?this.setState({distancing2:0,col21:0,col22:this.state.len2-1}):c>this.state.colLim2?this.setState({distancing2:this.state.distancing*this.state.colLim2,col21:this.state.colLim2,col22:this.state.colLim2+this.state.len2-1}):this.setState({distancing2:this.state.distancing*c,col21:c,col22:c+this.state.len2-1}),this.curveArea(c)}else if(1===this.state.triDown){var r,o;(o=(r=this.svgRef.current).createSVGPoint()).x=t.clientX;i=o.matrixTransform(r.getScreenCTM().inverse());t.preventDefault();var c;s=i.x-this.state.triCent1+this.state.mousePointerRange;(c=Math.round((s-6)/this.state.distancing))<0?this.setState({distancing1:0,col11:0,col12:this.state.len1-1}):c>this.state.colLim1?this.setState({distancing1:this.state.distancing*this.state.colLim1,col11:this.state.colLim1,col2:this.state.colLim1+this.state.len1-1}):this.setState({distancing1:this.state.distancing*c,col11:c,col12:c+this.state.len1-1}),this.curveArea(c)}}},{key:"triUp",value:function(t){this.state.triDown&&this.setState({triDown:!1})}},{key:"curveArea",value:function(t){this.state.col11>this.state.col22||this.state.col12<this.state.col21?this.areaRef.current.innerHTML=0:this.areaRef.current.innerHTML=this.state.overlapVals[Math.abs(this.state.col22-this.state.col11)]}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{onMouseMove:function(e){return t.triDrag(e)},onMouseUp:function(e){return t.triUp(e)}},i.a.createElement("div",{className:"container"},i.a.createElement("h3",null,"Question: ",this.props.questionNC)),i.a.createElement("svg",{width:this.state.svgWidth,height:this.state.svgHeight,ref:this.svgRef},i.a.createElement("rect",{opacity:"0.2",width:"100%",height:"100%"}),Object(u.a)(Array(this.state.len1).keys()).map((function(e){return Object(u.a)(Array(t.state.colValHeiS[e]).keys()).map((function(a){return t.dotReturn(e,a)}))})),Object(u.a)(Array(this.state.len2).keys()).map((function(e){return Object(u.a)(Array(t.state.colValHeiS2[e]).keys()).map((function(a){return t.dotReturn2(e,a)}))})),i.a.createElement("polygon",{points:[[this.state.triCent1+this.state.distancing1-5,this.state.ceilDist+35],[this.state.triCent1+this.state.distancing1+5,this.state.ceilDist+35],[this.state.triCent1+this.state.distancing1,this.state.ceilDist+20]],onMouseDown:function(e,a){return t.triMouseDown(e,1)}}),i.a.createElement("polygon",{points:[[this.state.triCent2+this.state.distancing2-5,this.state.ceilDist+35],[this.state.triCent2+this.state.distancing2+5,this.state.ceilDist+35],[this.state.triCent2+this.state.distancing2,this.state.ceilDist+20]],onMouseDown:function(e,a){return t.triMouseDown(e,2)}}),"Sorry, please use a different browser."),i.a.createElement("br",null),i.a.createElement("div",{class:"boxed"},i.a.createElement("div",{class:"color-box",style:{backgroundColor:"DarkCyan"}}),this.props.graph1,i.a.createElement("br",null),i.a.createElement("div",{class:"color-box",style:{backgroundColor:"Crimson"}}),this.props.graph2),i.a.createElement("br",null),i.a.createElement("h4",null,"Area Under Curve: ",i.a.createElement("span",{ref:this.areaRef})," | First x-coordinate: ",this.state.col11," | Second x-coordinate: ",this.state.col21," "),!this.state.submitted&&i.a.createElement("div",null,i.a.createElement("input",{type:"submit",className:"btn",value:"Ok",onClick:this.onSubmit})," ",i.a.createElement("br",null),i.a.createElement("p",{style:{color:"grey"}},'Reminder: Once you click "Ok", your response to this question will be recorded, and you won\'t be able to change your answer.')))}},{key:"initialState",get:function(){var t=this.props.data["max-height"],e=this.props.data["circle-radius"],a=4*e-1,n=50*(Math.ceil(a*t/50)+1),i=n-50,s=100*Math.ceil((a*this.props.data.len1*2+a*this.props.data.len2*2)/100);Math.round(s/a);return{submitted:!1,x:0,y:0,isDown:!1,rectX:12.5,down:!1,svgWidth:s,svgHeight:n,svgX:6,len1:this.props.data.len1,colValHeiS:this.props.data.colValHeiS,len2:this.props.data.len2,colValHeiS2:this.props.data.colValHeiS2,distancing:a,distancing1:(this.props.data.len2+1)*a,distancing2:(this.props.data.len1+this.props.data.len2+4)*a,triCent1:Math.round(.5*this.props.data.len1*a)+a,triCent2:Math.round(.5*this.props.data.len2*a)+a,mousePointerRange:0,triDown:!1,col11:this.props.data.len2+1,col12:this.props.data.len1+this.props.data.len2+1,col21:this.props.data.len1+this.props.data.len2+3,col22:this.props.data.len1+2*this.props.data.len2+3,colLim1:Math.round((s-this.props.data.len1*a)/a),colLim2:Math.round((s-this.props.data.len2*a)/a),overlapVals:this.props.data.overlapVals,circRad:e,ceilDist:i}}}]),a}(n.Component)),U=Object(l.b)((function(t){return{expt:t.expt}}),{getExpt:w,storeAnswer:Q})(H),L=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(g.a)(this,a),(n=e.call(this,t)).sliderRef=i.a.createRef(),n.rectRef=i.a.createRef(),n.svgRef=i.a.createRef(),n.areaRef=i.a.createRef(),n.lengthRef=i.a.createRef(),n.startPos1Ref=i.a.createRef(),n.startPos2Ref=i.a.createRef(),n.dotReturn=n.dotReturn.bind(Object(E.a)(n)),n.curveArea=n.curveArea.bind(Object(E.a)(n)),n.triMouseDown=n.triMouseDown.bind(Object(E.a)(n)),n.triDrag=n.triDrag.bind(Object(E.a)(n)),n.triUp=n.triUp.bind(Object(E.a)(n)),n.curveArea=n.curveArea.bind(Object(E.a)(n)),n.svgColReturn=n.svgColReturn.bind(Object(E.a)(n)),n.svgColReturn=n.svgColReturn.bind(Object(E.a)(n)),n.resetState=n.resetState.bind(Object(E.a)(n)),n.onSubmit=n.onSubmit.bind(Object(E.a)(n)),n.state=n.initialState,n}return Object(y.a)(a,[{key:"resetState",value:function(){this.setState(this.initialState)}},{key:"componentDidMount",value:function(){(0,this.props.childRef)(this),this.getData()}},{key:"componentWillUnmount",value:function(){(0,this.props.childRef)(void 0)}},{key:"getData",value:function(){var t=this.props.expt.dbInfo.db,e=this.props.expt.dbInfo.col.split("-")[0],a=this.props.expt.dbInfo.col.split("-")[1];this.props.getExpt(t,e,a)}},{key:"onSubmit",value:function(){var t,e=this.props.questionNC,a=this.props.graph1,n=this.props.graph2,i=(t={},Object(x.a)(t,a,this.state.col11),Object(x.a)(t,n,this.state.col21),Object(x.a)(t,"area",this.state.overlapVals[Math.abs(this.state.col22-this.state.col11)]),t);this.props.storeAnswer(e,i),this.setState({submitted:!0})}},{key:"dotReturn",value:function(t,e){var a=t,n=this.state.distancing1+this.state.distancing*a+10,s=this.state.ceilDist-this.state.distancing*e+10;return i.a.createElement("circle",{className:"icon",stroke:"DarkCyan",fill:"DarkCyan",fillOpacity:"0.3",strokeOpacity:"0.3",cx:n,cy:s,r:this.state.circRad})}},{key:"dotReturn2",value:function(t,e){var a=t,n=this.state.distancing2+this.state.distancing*a+10,s=this.state.ceilDist-this.state.distancing*e+10;return i.a.createElement("circle",{className:"icon",stroke:"Crimson",fill:"Crimson",fillOpacity:"0.3",strokeOpacity:"0.3",cx:n,cy:s,r:this.state.circRad})}},{key:"svgColReturn",value:function(t,e){var a,n;1===e?(a=this.state.triCentCol1,n=this.state.variance1):2===e&&(a=this.state.triCentCol2,n=this.state.variance2);var i=this.svgRef.current,s=i.createSVGPoint();s.x=t.clientX;var r=s.matrixTransform(i.getScreenCTM().inverse());t.preventDefault();var o=r.x-a+this.state.mousePointerRange;return[Math.round((o-this.state.axisStart)/this.state.distancing)+n,Math.round((o-this.state.axisStart)/this.state.distancing)+1]}},{key:"svgColPlacement",value:function(t,e,a){2===a?(t+this.state.triCentCol2<this.state.axisStartCol?this.setState({distancing2:(this.state.variance2-1)*this.state.distancing,col21:0,col22:this.state.len2-1}):t+this.state.triCentCol2>this.state.axisStartCol+this.state.axisEndCol?this.setState({distancing2:this.state.distancing*(this.state.variance2+this.state.axisEndCol-1),col21:this.state.axisEndCol,col22:this.state.axisEndCol+this.state.len2-1}):this.setState({distancing2:this.state.distancing*t,col21:e,col22:e+this.state.len2-1}),this.curveArea()):1===a&&(t+this.state.triCentCol1<this.state.axisStartCol?this.setState({distancing1:(this.state.variance1-1)*this.state.distancing,col11:0,col12:this.state.len1-1}):t+this.state.triCentCol1>this.state.axisStartCol+this.state.axisEndCol?this.setState({distancing1:this.state.distancing*(this.state.variance1+this.state.axisEndCol-1),col11:this.state.axisEndCol,col12:this.state.axisEndCol+this.state.len1-1}):this.setState({distancing1:this.state.distancing*t,col11:e,col12:e+this.state.len1-1}),this.curveArea())}},{key:"triMouseDown",value:function(t,e){var a=this;if("mousedown"===t.type){t.preventDefault();var n=this.svgRef.current,i=n.createSVGPoint();i.x=t.clientX;var s=i.matrixTransform(n.getScreenCTM().inverse());1===e?this.setState((function(t){return{triDown:e,mousePointerRange:t.triCent1+a.state.distancing1-s.x}})):2===e&&this.setState((function(t){return{triDown:e,mousePointerRange:t.triCent2+a.state.distancing2-s.x}}))}}},{key:"triDrag",value:function(t){t.preventDefault();var e=this.state.triDown,a=this.svgColReturn(t,e),n=a[0],i=a[1];this.svgColPlacement(n,i,e),this.curveArea()}},{key:"triUp",value:function(t){this.state.triDown&&this.setState({triDown:!1})}},{key:"curveArea",value:function(){var t=this.state.col11+this.state.variance1,e=this.state.col12+this.state.variance1,a=this.state.col21+this.state.variance2,n=this.state.col22+this.state.variance2;this.areaRef.current.innerHTML=t>n||e<a?0:this.state.overlapVals[Math.abs(n-t)]}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{onMouseMove:function(e){return t.triDrag(e)},onMouseUp:function(e){return t.triUp(e)}},i.a.createElement("div",{className:"container"},i.a.createElement("h3",null,"Question: ",this.props.questionNC)),i.a.createElement("svg",{width:this.state.svgWidth,height:this.state.svgHeight+10,ref:this.svgRef},Object(u.a)(Array(this.state.len1).keys()).map((function(e){return Object(u.a)(Array(t.state.colValHeiS[e]).keys()).map((function(a){return t.dotReturn(e,a)}))})),Object(u.a)(Array(this.state.len2).keys()).map((function(e){return Object(u.a)(Array(t.state.colValHeiS2[e]).keys()).map((function(a){return t.dotReturn2(e,a)}))})),i.a.createElement("rect",{width:this.state.axisEnd,height:"2",fill:"black",x:this.state.axisStart-1,y:this.state.ceilDist+20}),i.a.createElement("rect",{width:"2",height:"20",fill:"black",x:this.state.axisStart-1,y:this.state.ceilDist+20}),i.a.createElement("rect",{width:"2",height:"20",fill:"black",x:this.state.axisEnd+this.state.axisStart-1,y:this.state.ceilDist+20}),i.a.createElement("polygon",{points:[[this.state.triCent1+this.state.distancing1-15,this.state.ceilDist+35],[this.state.triCent1+this.state.distancing1+15,this.state.ceilDist+35],[this.state.triCent1+this.state.distancing1,this.state.ceilDist+20]],onMouseDown:function(e,a){return t.triMouseDown(e,1)}}),i.a.createElement("polygon",{points:[[this.state.triCent2+this.state.distancing2-15,this.state.ceilDist+35],[this.state.triCent2+this.state.distancing2+15,this.state.ceilDist+35],[this.state.triCent2+this.state.distancing2,this.state.ceilDist+20]],onMouseDown:function(e,a){return t.triMouseDown(e,2)}}),i.a.createElement("text",{"text-anchor":"middle",x:this.state.axisStart,y:this.state.ceilDist+55},this.state.lowVal),i.a.createElement("text",{"text-anchor":"middle",x:this.state.axisStart+this.state.axisEnd,y:this.state.ceilDist+55},this.state.lowVal+this.state.colNum),"Sorry, please use a different browser."),i.a.createElement("br",null),i.a.createElement("div",{class:"boxed"},i.a.createElement("div",{class:"color-box",style:{backgroundColor:"DarkCyan"}}),this.props.graph1,i.a.createElement("br",null),i.a.createElement("div",{class:"color-box",style:{backgroundColor:"Crimson"}}),this.props.graph2),i.a.createElement("br",null),i.a.createElement("h4",null,"Area Under Curve: ",i.a.createElement("span",{ref:this.areaRef})," | First x-coordinate: ",this.state.col11," | Second x-coordinate: ",this.state.col21," "),!this.state.submitted&&i.a.createElement("div",null,i.a.createElement("input",{type:"submit",className:"btn",value:"Ok",onClick:this.onSubmit})," ",i.a.createElement("br",null),i.a.createElement("p",{style:{color:"grey"}},'Reminder: Once you click "OK", your response to this question will be recorded, and you won\'t be able to change your answer.')))}},{key:"initialState",get:function(){var t=this.props.data["max-height"],e=this.props.data["circle-radius"],a=this.props.data.len1,n=this.props.data.len2,i=4*e-1,s=50*(Math.ceil(i*t/50)+1),r=this.props.data["axis-length"],o=r*i,c=Math.ceil(Math.max(a,n)/2),l=Math.max(a,n)*i,p=s-50,h=l+o;console.log(h);var u=Math.ceil(h/i);console.log(s,i,p,u);var m=Math.ceil(l/2),d=c,b=h-((a/2+1)*i+(n/2+1)*i-1),v=o/i,f=v*i,x=(.5*a+1)*i,g=(.5*n+1)*i,y=Math.ceil(x/i),E=Math.ceil(g/i),D=Math.abs(Math.ceil(a/2)-d),S=Math.abs(Math.ceil(n/2)-d),k=this.props.data.startPos1,O=k+D-1,C=k,w=k+a-1;C+y<d?(O=D-1,C=0,w=a-1):C+y>d+v&&(O=D+v-1,C=v,w=v+a-1);var j=this.props.data.startPos2,R=j+S-1,N=j,I=j+n-1;return N+E<d?(R=S-1,N=0,I=n-1):N+E>d+v&&(R=S+v-1,N=v,I=v+n-1),{submitted:!1,x:0,y:0,isDown:!1,rectX:12.5,down:!1,svgWidth:h,svgHeight:s,svgX:6,len1:a,colValHeiS:this.props.data.colValHeiS,len2:n,colValHeiS2:this.props.data.colValHeiS2,distancing:i,distancing1:O*i,distancing2:R*i,triCent1:x,triCentCol1:y,triCent2:g,triCentCol2:E,mousePointerRange:0,triDown:!1,col11:C,col12:w,col21:N,col22:I,colLim1:Math.round((h-a*i)/i),colLim2:Math.round((h-n*i)/i),overlapVals:this.props.data.overlapVals,circRad:e,ceilDist:p,axisStart:m,axisStartCol:d,axisWidth:b,axisEnd:f,axisEndCol:v,edgeCol:c,edgeLength:l,colNum:r,variance1:D,variance2:S,lowVal:this.props.data.lowVal,showCoors:!0}}}]),a}(n.Component),_=Object(l.b)((function(t){return{expt:t.expt}}),{getExpt:w,storeAnswer:Q})(L),X=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(g.a)(this,a),(n=e.call(this,t)).state={whichItem:""},n.onNextQuestion=n.onNextQuestion.bind(Object(E.a)(n)),n.onFinalSubmit=n.onFinalSubmit.bind(Object(E.a)(n)),n.whichSubmit=n.whichSubmit.bind(Object(E.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.getData();var t=this.props.match.params.username,e=this.props.match.params.expt;this.props.expt.participantID||(alert("Please enter your unique ID"),this.props.history.push("/expt/"+t+"/"+e))}},{key:"nextQuestion",value:function(){var t=this.props.match.params.username,e=this.props.match.params.expt,a=this.props.expt.questionKeys[this.props.expt.numQ+1];a==this.props.expt.questionKeys[this.props.expt.questionKeys.length-1]&&this.props.isFinalQ(!0),this.props.setNumQ(this.props.expt.numQ+1),this.props.history.push("/expt/"+t+"/"+e+"/"+a.toString())}},{key:"onNextQuestion",value:function(){this.childSlider&&(this.childSlider.resetState(),this.nextQuestion()),this.childNormalCurve&&(this.childNormalCurve.resetState(),this.nextQuestion()),this.childStaticText&&this.nextQuestion()}},{key:"onFinalSubmit",value:function(){this.props.history.push("/success")}},{key:"whichSubmit",value:function(){return i.a.createElement("div",null,this.props.expt.isFinalQ?i.a.createElement("div",null,'Please click "OK" above before clicking "Submit" ',i.a.createElement("br",null),"This is the final question. ",i.a.createElement("p",null),i.a.createElement("input",{type:"submit",className:"btn",value:"Submit",onClick:this.onFinalSubmit})):i.a.createElement("div",null,'Please click "OK" above before clicking "Next Question" ',i.a.createElement("br",null),i.a.createElement("input",{type:"submit",className:"btn",value:"Next Question",onClick:this.onNextQuestion})))}},{key:"getData",value:function(){var t=this.props.match.params.username,e=this.props.match.params.expt.split("-")[0],a=this.props.match.params.expt.split("-")[1];this.props.getExpt(t,e,a)}},{key:"displayExpt",value:function(){var t=this,e=(this.props.match.params.username,this.props.expt.exptToDisplay),a=this.props.match.params.qKey;if(e[a])switch(e[a].Type){case"slider":var n=e[a].lowRange,s=e[a].highRange,r=e[a].Question;return i.a.createElement("div",{className:"container"},i.a.createElement(F,{childRef:function(e){return t.childSlider=e},question:r,lowRange:n,highRange:s}),i.a.createElement("br",null),i.a.createElement(this.whichSubmit,null));case"static-text":var o=e[a]["Static Text"];return i.a.createElement("div",{className:"container"},i.a.createElement(K,{childRef:function(e){return t.childStaticText=e},text:o}),i.a.createElement("br",null),i.a.createElement(this.whichSubmit,null));case"normal-curve":var c=e[a].Question,l=e[a].graph1key,p=e[a].graph2key,h=e[a].FileName,u=e[a].FileContent;return i.a.createElement("div",{className:"container"},i.a.createElement(_,{childRef:function(e){return t.childNormalCurve=e},questionNC:c,graph1:l,graph2:p,fileName:h,data:u}),i.a.createElement("br",null),i.a.createElement(this.whichSubmit,null));default:return i.a.createElement("div",null,"Unknown Experiment Type")}}},{key:"render",value:function(){var t=this.props.match.params.expt,e=this.props.expt.participantID;return i.a.createElement("div",{className:"container"},"Experiment name: ",i.a.createElement("br",null),i.a.createElement("b",null,t),i.a.createElement("br",null),"Participant ID: ",i.a.createElement("br",null),i.a.createElement("b",null,e),i.a.createElement("br",null),i.a.createElement("br",null),this.displayExpt())}}]),a}(n.Component),W=Object(l.b)((function(t){return{expt:t.expt,participantID:t.participantID}}),{getExpt:w,sendExpt:R,setNumQ:I,isFinalQ:M})(X),B=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(){return Object(g.a)(this,a),e.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.expt.dbInfo.db,e=this.props.expt.dbInfo.col;if(0==!this.props.expt.answer.length){var a={participantID:this.props.expt.participantID};this.props.expt.answer.map((function(t){a[t.que]=t.ans})),console.log(a),this.props.sendExpt(t,e,a)}}},{key:"render",value:function(){var t=this.props.expt.exptToDisplay.link,e=this.props.expt.participantID;return i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"Thank you for your submission!")," ",i.a.createElement("br",null),"You are ",i.a.createElement("b",null,"67%")," done with the experiment! Now you will need to:  ",i.a.createElement("br",null),i.a.createElement("br",null),"1. Please copy your ID shown below: ",i.a.createElement("br",null),i.a.createElement("b",null,e)," ",i.a.createElement("br",null),"2. Please click on this ",i.a.createElement("a",{href:t,target:"_blank"},"link"),", paste your ID in the first page and complete the final survey.")}}]),a}(n.Component),G=Object(l.b)((function(t){return{expt:t.expt}}),{sendExpt:R})(B),Y=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(g.a)(this,a),(n=e.call(this,t)).state={ParticipantID:""},n.onChange=n.onChange.bind(Object(E.a)(n)),n.showExpt=n.showExpt.bind(Object(E.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.getData();var t=this.props.match.params.username,e=this.props.match.params.expt;this.props.storeDBInfo(t,e)}},{key:"getData",value:function(){var t=this.props.match.params.username,e=this.props.match.params.expt.split("-")[0],a=this.props.match.params.expt.split("-")[1];this.props.getExpt(t,e,a)}},{key:"onChange",value:function(t){this.setState(Object(x.a)({},t.target.name,t.target.value))}},{key:"showExpt",value:function(){this.props.storePartID(this.state.ParticipantID);var t=this.props.match.params.username,e=this.props.match.params.expt,a=[];if(this.props.expt.exptToDisplay){var n=Object.keys(this.props.expt.exptToDisplay);console.log(n),a=n.filter((function(t){return"q"==t.charAt(0)})),this.props.storeQKeys(a)}1==a.length&&this.props.isFinalQ(!0),this.props.setNumQ(0),this.props.history.push("/preview/"+t+"/"+e+"/"+a[0])}},{key:"render",value:function(){var t=this.props.match.params.expt;return i.a.createElement("div",{className:"container"},"Experiment name: ",i.a.createElement("br",null),i.a.createElement("b",null,t),i.a.createElement("br",null),i.a.createElement("br",null),"Enter your unique ID: ",i.a.createElement("p",null),i.a.createElement("input",{type:"text",name:"ParticipantID",value:this.state.ParticipantID,onChange:this.onChange}),i.a.createElement("br",null),i.a.createElement("input",{type:"button",className:"btn",value:"Start Experiment",onClick:this.showExpt}),i.a.createElement("br",null),i.a.createElement("br",null),"Hi Researchers! You may enter any ID to preview your experiment. ",i.a.createElement("br",null),"Note: experiment preview will ",i.a.createElement("b",null,"NOT")," record any data.")}}]),a}(n.Component),J=Object(l.b)((function(t){return{expt:t.expt,participantID:t.participantID}}),{storeDBInfo:C,storePartID:j,getExpt:w,storeQKeys:N,setNumQ:I,isFinalQ:M})(Y),$=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(t){var n;return Object(g.a)(this,a),(n=e.call(this,t)).state={whichItem:""},n.onNextQuestion=n.onNextQuestion.bind(Object(E.a)(n)),n.onFinalSubmit=n.onFinalSubmit.bind(Object(E.a)(n)),n.whichSubmit=n.whichSubmit.bind(Object(E.a)(n)),n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.getData();var t=this.props.match.params.username,e=this.props.match.params.expt;this.props.expt.participantID||(alert("Please enter your unique ID"),this.props.history.push("/preview/"+t+"/"+e))}},{key:"nextQuestion",value:function(){var t=this.props.match.params.username,e=this.props.match.params.expt,a=this.props.expt.questionKeys[this.props.expt.numQ+1];a==this.props.expt.questionKeys[this.props.expt.questionKeys.length-1]&&this.props.isFinalQ(!0),this.props.setNumQ(this.props.expt.numQ+1),this.props.history.push("/preview/"+t+"/"+e+"/"+a.toString())}},{key:"onNextQuestion",value:function(){this.childSlider&&(this.childSlider.resetState(),this.nextQuestion()),this.childNormalCurve&&(this.childNormalCurve.resetState(),this.nextQuestion()),this.childStaticText&&this.nextQuestion()}},{key:"onFinalSubmit",value:function(){this.props.history.push("/previewSuccess")}},{key:"whichSubmit",value:function(){return i.a.createElement("div",null,this.props.expt.isFinalQ?i.a.createElement("div",null,"This is the final question. ",i.a.createElement("p",null),i.a.createElement("input",{type:"submit",className:"btn",value:"Submit",onClick:this.onFinalSubmit})):i.a.createElement("input",{type:"submit",className:"btn",value:"Next Question",onClick:this.onNextQuestion}))}},{key:"getData",value:function(){var t=this.props.match.params.username,e=this.props.match.params.expt.split("-")[0],a=this.props.match.params.expt.split("-")[1];this.props.getExpt(t,e,a)}},{key:"displayExpt",value:function(){var t=this,e=(this.props.match.params.username,this.props.expt.exptToDisplay),a=this.props.match.params.qKey;if(e[a])switch(e[a].Type){case"slider":var n=e[a].lowRange,s=e[a].highRange,r=e[a].Question;return i.a.createElement("div",{className:"container"},i.a.createElement(F,{childRef:function(e){return t.childSlider=e},question:r,lowRange:n,highRange:s}),i.a.createElement("br",null),i.a.createElement(this.whichSubmit,null));case"static-text":var o=e[a]["Static Text"];return i.a.createElement("div",{className:"container"},i.a.createElement(K,{childRef:function(e){return t.childStaticText=e},text:o}),i.a.createElement("br",null),i.a.createElement(this.whichSubmit,null));case"normal-curve":var c=e[a].Question,l=e[a].graph1key,p=e[a].graph2key,h=e[a].FileName,u=e[a].FileContent;return i.a.createElement("div",{className:"container"},i.a.createElement(U,{childRef:function(e){return t.childNormalCurve=e},questionNC:c,graph1:l,graph2:p,fileName:h,data:u}),i.a.createElement("br",null),i.a.createElement(this.whichSubmit,null));default:return i.a.createElement("div",null,"Unknown Experiment Type")}}},{key:"render",value:function(){var t=this.props.match.params.expt,e=this.props.expt.participantID;return i.a.createElement("div",{className:"container"},"Experiment name: ",i.a.createElement("br",null),i.a.createElement("b",null,t),i.a.createElement("br",null),"Participant ID: ",i.a.createElement("br",null),i.a.createElement("b",null,e),i.a.createElement("br",null),i.a.createElement("br",null),this.displayExpt())}}]),a}(n.Component),z=Object(l.b)((function(t){return{expt:t.expt,participantID:t.participantID}}),{getExpt:w,setNumQ:I,isFinalQ:M})($),Z=function(t){Object(D.a)(a,t);var e=Object(S.a)(a);function a(){return Object(g.a)(this,a),e.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.expt.dbInfo.db,this.props.expt.dbInfo.col;if(0==!this.props.expt.answer.length){var t={participantID:this.props.expt.participantID};this.props.expt.answer.map((function(e){t[e.que]=e.ans})),console.log(t)}}},{key:"render",value:function(){var t=this.props.expt.exptToDisplay.link;return i.a.createElement("div",{className:"container"},i.a.createElement("h1",null,"Thank you for your submission!")," ",i.a.createElement("br",null),"Please click on this ",i.a.createElement("a",{href:t,target:"_blank"},"link")," to complete the final survey.")}}]),a}(n.Component),tt=Object(l.b)((function(t){return{expt:t.expt}}),{})(Z);var et=function(){return i.a.createElement(l.a,{store:f},i.a.createElement(o.a,{basename:"/participant-app/"},i.a.createElement("div",{className:"App"},i.a.createElement(c.a,{exact:!0,path:"/",component:A}),i.a.createElement(c.a,{exact:!0,path:"/success",component:G}),i.a.createElement(c.a,{exact:!0,path:"/expt/:username/:expt",component:P}),i.a.createElement(c.a,{exact:!0,path:"/expt/:username/:expt/:qKey",component:W}),i.a.createElement(c.a,{exact:!0,path:"/previewSuccess",component:tt}),i.a.createElement(c.a,{exact:!0,path:"/preview/:username/:expt",component:J}),i.a.createElement(c.a,{exact:!0,path:"/preview/:username/:expt/:qKey",component:z}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(et,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.7f55c154.chunk.js.map