(this["webpackJsonpparticipant-app"]=this["webpackJsonpparticipant-app"]||[]).push([[0],{39:function(t,e,a){t.exports=a(69)},44:function(t,e,a){},45:function(t,e,a){},67:function(t,e,a){},69:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),p=a(21),i=a.n(p),c=(a(44),a(45),a(18)),o=a(2),s=a(15),u=a(8),l=a(38),m=a(20),h={exptToDisplay:{},participantID:""},b=Object(u.c)({expt:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_EXPT":return Object(m.a)(Object(m.a)({},t),{},{exptToDisplay:e.payload});case"PART_ID":return Object(m.a)(Object(m.a)({},t),{},{participantID:e.payload});default:return t}}}),v=[l.a],E=Object(u.e)(b,{},Object(u.d)(u.a.apply(void 0,v))),f=a(11),d=a(12),x=a(13),y=a(9),g=a(17),D=a(16),j=a(14),O=a.n(j),k=function(t){Object(g.a)(a,t);var e=Object(D.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).state={ParticipantID:""},n.onChange=n.onChange.bind(Object(y.a)(n)),n.showExpt=n.showExpt.bind(Object(y.a)(n)),n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onChange",value:function(t){this.setState(Object(f.a)({},t.target.name,t.target.value))}},{key:"showExpt",value:function(){this.props.storePartID(this.state.ParticipantID);var t=this.props.match.params.username,e=this.props.match.params.expt;this.props.history.push("/"+t+"/"+e+"/experiment")}},{key:"render",value:function(){var t=this.props.match.params.expt;return r.a.createElement("div",{className:"container"},"Experiment name: ",r.a.createElement("br",null),r.a.createElement("b",null,t),r.a.createElement("br",null),r.a.createElement("br",null),"Enter your unique ID: ",r.a.createElement("p",null),r.a.createElement("input",{type:"text",name:"ParticipantID",value:this.state.ParticipantID,onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"button",className:"btn",value:"Start Experiment",onClick:this.showExpt}),r.a.createElement("br",null))}}]),a}(n.Component),I=Object(s.b)((function(t){return{expt:t.expt,participantID:t.participantID}}),{storePartID:function(t){return function(e){e({type:"PART_ID",payload:t})}}})(k),C=function(t){Object(g.a)(a,t);var e=Object(D.a)(a);function a(){return Object(d.a)(this,a),e.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Thank you for your submission!"))}}]),a}(n.Component),w=(a(67),function(t){Object(g.a)(a,t);var e=Object(D.a)(a);function a(t){var n;return Object(d.a)(this,a),(n=e.call(this,t)).state={value:0},n.onChange=n.onChange.bind(Object(y.a)(n)),n.onSubmit=n.onSubmit.bind(Object(y.a)(n)),n}return Object(x.a)(a,[{key:"componentDidMount",value:function(){this.getData();var t=this.props.match.params.username,e=this.props.match.params.expt;this.props.expt.participantID||(alert("Please enter your unique ID"),this.props.history.push("/"+t+"/"+e))}},{key:"onChange",value:function(t){this.setState(Object(f.a)({},t.target.name,t.target.value))}},{key:"onSubmit",value:function(){var t={PartID:this.props.expt.participantID,sliderVal:this.state.value},e=this.props.match.params.username,a=this.props.match.params.expt;this.props.sendExpt(e,a,t),this.props.history.push("/")}},{key:"getData",value:function(){var t=this.props.match.params.username,e=this.props.match.params.expt.split("-")[0],a=this.props.match.params.expt.split("-")[1];this.props.getExpt(t,e,a)}},{key:"displayExpt",value:function(){var t=this.props.expt.exptToDisplay,e=Object.keys(t).filter((function(t){return"userID"!=t&&"exptName"!=t&&"count"!=t&&"type"!=t}))[0];if(t[e]&&"slider"==t[e].Type){var a=t[e].lowRange,n=t[e].highRange,p=t[e].Question;return r.a.createElement("div",{className:"container"},p," ",r.a.createElement("br",null),r.a.createElement("input",{type:"range",min:a,max:n,name:"value",value:this.state.value,onChange:this.onChange}),this.state.value,r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"btn",onClick:this.onSubmit}))}}},{key:"sendData",value:function(t){var e="https://test-api-615.herokuapp.com/api/feedback/"+this.props.match.params.username+"/"+this.props.match.params.expt;O.a.post(e,t).then((function(t){console.log(t),alert("You have successfully submitted your response.")}))}},{key:"render",value:function(){var t=this.props.match.params.expt,e=this.props.expt.participantID;return r.a.createElement("div",{className:"container"},"Experiment name: ",r.a.createElement("br",null),r.a.createElement("b",null,t),r.a.createElement("br",null),"Participant ID: ",r.a.createElement("br",null),r.a.createElement("b",null,e),r.a.createElement("br",null),r.a.createElement("br",null),this.displayExpt())}}]),a}(n.Component)),P=Object(s.b)((function(t){return{expt:t.expt,participantID:t.participantID}}),{getExpt:function(t,e,a){return function(n){var r="https://test-api-615.herokuapp.com/api/feedback/"+t+"/info/studyName-"+e;O.a.get(r).then((function(t){var e=t.data.experiments,r={};e.forEach((function(t){t.exptName==a&&(r=t)})),n({type:"GET_EXPT",payload:r}),console.log("dispatched")}))}},sendExpt:function(t,e,a){return function(n){var r="https://test-api-615.herokuapp.com/api/feedback/"+t+"/"+e;O.a.post(r,a).then((function(t){console.log(t)}))}}})(w);var T=function(){return r.a.createElement(s.a,{store:E},r.a.createElement(c.a,{basename:"/participant-app/"},r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{exact:!0,path:"/",component:C}),r.a.createElement(o.a,{exact:!0,path:"/:username/:expt",component:I}),r.a.createElement(o.a,{exact:!0,path:"/:username/:expt/experiment",component:P}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.21ceb1a0.chunk.js.map